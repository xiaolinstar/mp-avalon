[tool.ruff]
# 目标 Python 版本
target-version = "py313"
# 行长度限制
line-length = 150

[tool.ruff.lint]

# 启用的规则集
# E: pycodestyle
# F: Pyflakes
# I: isort (导入排序)
# B: flake8-bugbear
# UP: pyupgrade
# C4: flake8-comprehensions
select = ["E", "F", "I", "B", "UP", "C4"]

# 忽略的规则
ignore = []

# 排查目录
exclude = [
    ".git",
    ".venv",
    "__pycache__",
    "build",
    "dist",
    "migrations",
]

# 针对特定文件的规则覆盖
[tool.ruff.lint.per-file-ignores]
"tests/**/*.py" = ["E501"]

[tool.ruff.lint.isort]
# 导入排序配置
known-first-party = ["src"]
combine-as-imports = true

[tool.ruff.format]
# 格式化配置
quote-style = "double"
indent-style = "space"
skip-magic-trailing-comma = false
line-ending = "auto"
